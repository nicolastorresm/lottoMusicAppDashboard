<h1>Agregar video </h1>

<div class="row" >
  <div class="col-9">
    <input  [(ngModel)]="urlIngresada" type="text" class="form-control" placeholder="Ejemplo: https://www.youtube.com/watch?v=KVypm4jM0l8" >
  </div>

  <div class="col-3">
    <button mat-raised-button color="primary" (click)="procesarUrl(urlIngresada)">
      <mat-icon>search</mat-icon>
    </button>
  </div>
</div>

<div *ngIf="urlProcesada" class="card">
 
  <div class="card-body">
    <iframe width="100%" height="250px" [src]="video.idVideo | safeurl" frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

         
      
  </div>
</div>
 
<div *ngIf="urlProcesada;  " class="row">   
<span *ngFor="let videoD of videos">
  
    <button (click)="obtenerTituloYArtistaCanalFecha(videoD.snippet.title, videoD.snippet.channelTitle,videoD.snippet.publishTime)" type="button" class="btn btn-danger">Agregar</button>
  
  </span>

</div>

<form autocomplete="off" [formGroup]="miFormulario" (ngSubmit)="guardar()">

  <div class="mb-3">
    <label  class="form-label">Codigo del video</label>
    <input type="text" class="form-control" formControlName=idVideo  value="{{video.idVideo}}" required>
  </div>

  <div class="mb-3">
    <label  class="form-label">Titulo del video</label>
    <input type="text" class="form-control" formControlName="titulo" name="titulo" required value="{{video.titulo}}"
    maxlength="25">
    <span class="form-text text-danger" *ngIf="tituloInvalido()">El titulo debe contener 25 caracteres maximo</span>

  </div>

  <div class="mb-3">
    <label  class="form-label">Canal</label>
    <input type="text" class="form-control" formControlName="canal" required value="{{video.canal}}" name="canal" required>
  </div>

  <div class="mb-3">
    <label  class="form-label">Artista</label>
    <input type="text" class="form-control" formControlName="artista" required name="artista" value="{{video.artista}}" required>
  </div>

  <div class="mb-3">
    <label  class="form-label">Url</label>
    <input type="text" class="form-control" formControlName="urlVideo" required value="{{video.urlVideo}}"required>
  </div>

  <div class="mb-3">
    <label  class="form-label">Fecha Publicacion</label>
    <input type="text" class="form-control" formControlName="fechaVideo" required name="fechaVideo"     value="{{video.fechaVideo}}">
  </div>

  <div class="mb-3">
    <label  class="form-label">Activar video</label>
    <input type="text" class="form-control" formControlName="activo" required name="activo" value="true">
  </div>

  <div class="mb-3">
    <label  class="form-label">Duraci√≥n</label>
    <input type="text" class="form-control" formControlName="duracion" name="duracion" required value="null">
  </div>


  

  <button type="button" (click)="guardar()" class="btn btn-success">Guardar</button>







</form>


   

    